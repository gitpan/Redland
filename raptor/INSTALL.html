<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/2000/REC-xhtml1-20000126/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>Raptor RDF Parser Toolkit - Installation</title>
</head>
<body>

<h1 align="center">Raptor RDF Parser Toolkit - Installation</h1>
<h2 align="center"><a href="http://purl.org/net/dajobe/">Dave Beckett</a><br /><a href="http://www.ilrt.bristol.ac.uk/">Institute for Learning and Research Technology</a><br /><a href="http://www.bristol.ac.uk/">University of Bristol</a></h2>
  

<h2>1. Getting the sources</h2>

<h2>1.1 Getting the sources from releases</h2>

<p>The sources are available from
<a href="http://www.redland.opensource.ac.uk/dist/source/">http://www.redland.opensource.ac.uk/dist/source/</a> (master site) and also from the
<a href="http://sourceforge.net/projects/librdf/">SourceForge site</a>.</p>


<h2>1.2 Getting the sources from CVS</h2>

<p>Note that using this rather than the bundles may require having
some extra development tools.  Presently this includes the gperf
tool.</p>

<pre>
  # sh, bash, ...
  CVSROOT=:pserver:anonymous@cvs.ilrt.org:/cvsroot
  export CVSROOT
  # csh, tcsh, ...
  setenv CVSROOT :pserver:anonymous@cvs.ilrt.org:/cvsroot

  cvs login
Logging in to :pserver:anonymous@cvs.ilrt.org:2401/cvsroot
CVS password: 
  [return]

  cvs checkout redland/raptor

  cd redland/raptor
</pre>

<p>At this stage, or after a <tt>cvs update</tt> you will
need to create the automake and autoconf derived files, as described
below in <em>create the configure program</em>
by using the <tt>autogen.sh</tt> script.</p>



<h2>2. Configuring and building</h2>

<p>Raptor uses the GNU automake and autoconf to handle system
dependency checking.  It requires an XML parser - either libxml2
(2.4.0 or newer, 2.5.0 or later recommended) or expat.  It will
optionally use libcurl, libxml2 for retrieving URIs.  If GNOME glib
2.0 is present, it will be used for Unicode Normal Form C (NFC)
checking.  If it is missing, some of the tests will note failure.</p>

<p>Raptor is developed and built on x86 GNU/Linux
(Redhat 9, Debian unstable) but is also regularly tested on
sparc Sun Solaris 2.x, x86 FreeBSD 4.8, ppc Apple OSX 10.2 
and as part of Redland on several other systems via the 
<a href="http://sourceforge.net/">SourceForge</a> compile farm
(AMD IA64 SuSE 8 Linux 2.4, Alpha Debian Linux 2.2).</p>

<h3>2.1. Create <tt>configure</tt> program</h3>

<p>If there is no <tt>configure</tt> program, you can create it 
using the <tt>autogen.sh</tt> script, as long as you have the
<a href="http://www.gnu.org/software/automake/automake.html">automake</a> and
<a href="http://www.gnu.org/software/autoconf/autoconf.html">autoconf</a>
tools.  Alternatively you can run them by hand with:</p>
<pre>
  aclocal; autoheader; automake --add-missing; autoconf
</pre>

<p>The automake and autoconf tools have many different versions and
at present Raptor is being developed with automake 1.6.3 (minimum
version 1.6), autoconf 2.57 (minimum version 2.52) and libtool 1.4.2a
(minimum version 1.4).  These are only needed when compiling from CVS
sources.  It is expected that development will move to require
automake 1.7, autoconf 2.57 and libtool 1.4.3.</p>


<h3>2.2 Options for <tt>configure</tt></h3>

<p>Raptor also supports the following extra configure options:</p>

<dl>
<dt><tt>--with-xml-parser=NAME</tt><br /></dt>
<dd><p>Pick an XML parser to use - either <tt>libxml</tt> (default)
minimum version 2.4.0 or <tt>expat</tt>.  If this option is not given,
either will be used, with libxml preferred if both are present.
These can either be installed system libraries or source
trees in subdirectories of these sources named libxml, expat.</p>
<p>Raptor has been tested with various combinations of these libraries
including 
expat 1.95.1 (on RedHat 7.2),
expat 1.95.2-2 (on RedHat 7.3),
expat 1.95.2-6 (on Debian 3.0),
libxml 2.4.10 (on RedHat 7.2),
libxml 2.4.13 (on OSX 10.1.5),
libxml 2.4.17 (on FreeBSD 4.5-RELEASE-p2),
libxml 2.4.19 (on RedHat 7.2),
libxml 2.4.23 (on Debian 3.0),
libxml 2.4.24 (on FreeBSD 4.7-STABLE),
libxml 2.4.25, 2.4.28, 2.4.30 (Debian unstable),
libxml 2.5.3-2.5.4 (Redhat 9, Debian unstable),
libxml 2.5.7 (Redhat 9, Debian unstable),
libxml 2.5.8-2.5.9 (Debian unstable)
</p>
<p>libxml1 is not supported.</p>
</dd>

<dt><tt>--with-www=NAME</tt><br /></dt>
<dd><p>Pick a WWW library to use - either <tt>curl</tt>, 
<tt>xml</tt> (for libxml), <tt>libwww</tt> for W3C libwww or
<tt>none</tt> to disable it.</p></dd>

<dt><tt>--with-xml2-config=NAME</tt><br /></dt>
<dd><p>Set the path to the libxml xml2-config program</p></dd>

<dt><tt>--with-curl-config=NAME</tt><br /></dt>
<dd><p>Set the path to the ,a href="http://curl.haxx.se/libcurl/">libcurl</a> curl-config program</p></dd>

<dt><tt>--with-pkg-config=NAME</tt><br /></dt>
<dd><p>Set the path to the GNOME pkg-config program</p></dd>

<dt><tt>--with-libwww-config=NAME</tt><br /></dt>
<dd><p>Set the path to the W3C <a href="http://www.w3.org/Library/">WWW library</a> libwww-config program</p></dd>

</dl>

<h3>2.3 Configuring</h3>

<p>If everything is in the default place, do:</p>
<pre>
   ./configure
</pre>

<p>The most common configuration you will be doing something like this:</p>
<pre>
   ./configure --with-xml-parser=expat
</pre>


<h3>2.4 Compiling</h3>

<p>Compile the parser and the test program <tt>rapper</tt> with;</p>
<pre>
   make
</pre>
<p>Note: GNU make is probably required which may be called
gmake or gnumake if your system has a different make available too.</p>


<h3>2.5 Testing</h3>

<p>Raptor has a built-in test suite that can be invoked with:</p>
<pre>
  make check
</pre>

<p>which should emit lots of exciting test messages to the screen but
conclude with something like:<br />
  <tt>All </tt><em>n</em><tt> tests passed</tt><br />
if everything works correctly. There might be some Unicode NFC
tests that fail if GNOME glib2.0 was not available when raptor was
compiled.</p>

<p>Raptor builds a utility RDF parsing program <em>rapper</em> can
be tried with RDF/XML content like this:</p>

<pre>
  rapper dc.rdf
</pre>

<!-- FIXME THIS DOESN'T WORK AT PRESENT
<p>It can also extract RDF content inside general XML when the
<tt>--scan</tt> option is set.  e.g. if some RDF/XML is embedded
inside some XHTML, it could be extracted with:</p>

<pre>
  rapper -s /path/to/test/doc.xhtml
</pre>
-->

<p>You can also run it on <a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a> files like this:</p>

<pre>
  rapper -i ntriples test.nt
</pre>

<p>The default output is a simple statement dump format, but it can
be changed to emit <a href="http://www.w3.org/TR/rdf-testcases/#ntriples">N-Triples</a> by using the <code>-o</code> option, like this:</p>

<pre>
  rapper -o ntriples dc.rdf
</pre>



<h2>3. Using the library</h2>

<p>Once the library has been configured and built, there are 
some C example programs that can be built apart from the rapper utility.
They are in the <code>examples</code> sub-directory and can be built with:</p>
<pre>
   cd examples

   # Raptor parser abort test program
   make raptor_abort

   # Raptor GUI - only if you have the GTK libraries
   make grapper

   # If you have all requirements
   make examples
</pre>

<p>The public Raptor API is described in the
<a href="libraptor.html">libraptor.3</a> UNIX manual/web page
</p>


<hr />

<p>Copyright 2000-2003 <a href="http://purl.org/net/dajobe/">Dave Beckett</a>, <a href="http://www.ilrt.bristol.ac.uk/">Institute for Learning and Research Technology</a>, <a href="http://www.bristol.ac.uk/">University of Bristol</a></p>

</body>
</html>
